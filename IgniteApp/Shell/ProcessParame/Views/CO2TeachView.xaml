<UserControl
    x:Class="IgniteApp.Shell.ProcessParame.Views.CO2TeachView"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:attach="clr-namespace:IT.Tangdao.Xaml.Attached;assembly=IT.Tangdao.Xaml"
    xmlns:command="clr-namespace:IT.Tangdao.Xaml.Behaviors;assembly=IT.Tangdao.Xaml"
    xmlns:control="clr-namespace:IgniteApp.Controls"
    xmlns:convert="clr-namespace:IT.Tangdao.Framework.Converters.Wpf;assembly=IT.Tangdao.Framework"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:hc="https://handyorg.github.io/handycontrol"
    xmlns:local="clr-namespace:IgniteApp.Shell.ProcessParame.Views"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:conver="clr-namespace:IgniteApp.Converters"
    xmlns:s="https://github.com/canton7/Stylet"
    xmlns:vm="clr-namespace:IgniteApp.Shell.ProcessParame.ViewModels"
    d:DesignHeight="450"
    d:DesignWidth="800"
    mc:Ignorable="d">
    <UserControl.Resources>
        <convert:BoolToColorConverter
            x:Key="BoolToColorConverter"
            FalseValue="Red"
            TrueValue="DodgerBlue" />
        <conver:PasswordConverter x:Key="Password" />
    </UserControl.Resources>
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition />
            <RowDefinition Height="50" />
        </Grid.RowDefinitions>

        <TabControl IsEnabled="{Binding IsEnabled}">
            <TabItem Header="基础">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="40" />
                        <RowDefinition />
                        <RowDefinition Height="30" />
                    </Grid.RowDefinitions>
                    <StackPanel Orientation="Horizontal">
                        <Label
                            Margin="5"
                            command:CommandBehavior.Command="{Binding SetCommand}"
                            Content="是否连接" />
                        <control:CustomStatusLight Margin="5" Background="{Binding IsStatusActive, Converter={StaticResource BoolToColorConverter}}" />
                    </StackPanel>
                    <DataGrid
                        Grid.Row="1"
                        AutoGenerateColumns="False"
                        ItemsSource="{Binding TeachList}">
                        <DataGrid.Columns>
                            <DataGridTextColumn Binding="{Binding X1}" Header="X1" />
                            <DataGridTextColumn Binding="{Binding X2}" Header="X2" />
                            <DataGridTextColumn Binding="{Binding Y1}" Header="Y1" />
                            <DataGridTextColumn Binding="{Binding Y2}" Header="Y2" />
                        </DataGrid.Columns>
                    </DataGrid>
                </Grid>
            </TabItem>

            <TabItem Header="自增任务">

                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition />
                        <RowDefinition />
                    </Grid.RowDefinitions>

                    <StackPanel>

                        <Button Content="开始并行加载" Command="{Binding StartCommand}" />
                        <TextBlock  Text="{Binding LoadText}" />
                    </StackPanel>

                    <StackPanel Grid.Row="1">

                        <Button Content="开始并行加载" Command="{Binding StartCommand}" />
                        <TextBlock  Text="{Binding LoadNumber,UpdateSourceTrigger=PropertyChanged,Mode=TwoWay}" />
                    </StackPanel>
                </Grid>
            </TabItem>
        </TabControl>
        <StackPanel Grid.Row="2" Orientation="Horizontal">

            <hc:PasswordBox x:Name="pas"
                Width="100" IsSafeEnabled="False"
                Margin="5" hc:UnsafePassword="{Binding Text, UpdateSourceTrigger=PropertyChanged}" />
            <!--<PasswordBox PasswordChar="*" x:Name="pas" Width="100" />-->
            <!--<TextBox  x:Name="pas" Width="100"  Text="{Binding Text,Converter={StaticResource Password},UpdateSourceTrigger=PropertyChanged}" />-->
            <Button
                Width="80"
                Command="{Binding UnlockCommand}" CommandParameter="{Binding ElementName=pas,Path=(hc:PasswordBox.UnsafePassword)}"
                Content="解锁" />
        </StackPanel>
    </Grid>
</UserControl>